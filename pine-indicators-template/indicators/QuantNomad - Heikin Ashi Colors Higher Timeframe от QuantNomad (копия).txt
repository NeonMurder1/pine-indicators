//@version=4
study("QuantNomad - Heikin Ashi Colors Higher Timeframe", shorttitle = "HA Color HTF", overlay = true)

// Inputs
higher_tf     = input(title = "HA TimeFrame",   type = input.resolution, defval = 'D')

// HA Open/Close from Higher timeframe
haclose = security(heikinashi(syminfo.tickerid), higher_tf, close)
haopen  = security(heikinashi(syminfo.tickerid), higher_tf, open)

// HA colors
hacolor =  haclose  > haopen ? color.green : color.red

// Plotting
bgcolor(hacolor)